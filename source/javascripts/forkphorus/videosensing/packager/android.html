<!DOCTYPE html>
<html>

<head>
  <meta charset="utf8">
  <title>Forkphorus & Android - Guide</title>
  <style>
    body {
      font-family: Helvetica, Arial, sans-serif;
      max-width: 720px;
      margin: auto;
      line-height: 1.3;
    }
    table, tr, td, th {
      border-collapse: collapse;
      border: 1px solid black;
    }
    img {
      display: block;
    }
  </style>
</head>

<body>

  <main>
    
    <header><h1 id="top">Forkphorus & Android</h1></header>
    <p>This is a guide to packaging Scratch projects as Android apps using Forkphorus.</p>

    <p>There's two ways to do this:
      <ul>
        <li>Embed a link to the packager on the homepage</li>
        <li>Embed a file generated by the HTML packager</li>
      </ul>
    </p>

    <p>We will discuss each of these separately.</p>

    <p>Note that the Google Play Store has a registration fee of $25, and the iOS App Store has a fee of $99/year.</p>

    <hr>

    <h2>First Method - Embedding a link</h2>

    <p>This is the easiest method. Forkphorus bug fixes and performance improvements (as well as new bugs) will automatically be applied and changes to your project will also apply automatically. The main issue is that this requires an internet connection to redownload your project, but it will probably work good enough for most people.</p>
    <p>If iOS support is important, you must use the <a href="#phonegap">PhoneGap method</a> instead.</p>

    <ol>
      <li>Load your project in <a href="/">the Forkphorus homepage</a></li>
      <li>Scroll down to <i>Package this project</i></li>
      <li>If you want to enable Turbo Mode, check the <i>Turbo Mode</i> checkbox</li>
      <li>Setting the resolution to "Full screen" will allow the project to use as much screen space as possible. If this is not what you want, choose another option.</li>
      <li>Click the <i>Package</i> button and save the URL of the window opened somewhere -- we will need it in the next steps.</li>
    </ol>

    <p>At this point you just need to find a way to embed that URL into an app. I am currently aware of two ways to do this:
    </p>

    <h3 id="appinventor">Using AppInventor</h3>

    <p>Perhaps using AppInventor just to embed a webpage is a bit overkill, but it works more than good enough. What we do in these steps won't require any programming knowledge or anything -- just follow what the steps say. AppInventor gives you a bit more flexibility as to how your app functions if you so desire.</p>

    <ol>
      <li>Go to <a href="http://appinventor.mit.edu/">the AppInventor home page</a> and hit <i>Create Apps!</i>. Sign in with a Google account.</li>
      <li>Hit <i>Start new project</i>, name the project (this doesn't matter), and hit <i>OK</i></li>
      <li>From the Palette on the left, drag a <i>WebViewer</i> into the Viewer in the middle of the screen.</li>
      <li>In the components menu, select <i>WebViewer1</i> and configure it like so:
        <table>
          <tr>
            <td>Width</td>
            <td>Fill parent...</td>
          </tr>
          <tr>
            <td>Height</td>
            <td>Fill parent...</td>
          </tr>
          <tr>
            <td>HomeURL</td>
            <td>The URL generated by Forkphorus (<i>https://forkphorus.github.io/app.html?...</i>)</td>
          </tr>
        </table>
        <img src="https://user-images.githubusercontent.com/17209175/65193625-5547a980-da41-11e9-821e-abbec5512601.png" height="464">
      </li>
      <li>In the components menu, select <i>Screen1</i> and consider the following optional settings:
        <table>
          <tr>
            <td>AppName</td>
            <td>The name of your app (eg. <i>Paper Minecraft</i>)</td>
          </tr>
          <tr>
            <td>TitleVisible</td>
            <td>false (unchecked) to remove an ugly titlebar from your app</td>
          </tr>
          <tr>
            <td>ShowStatusBar</td>
            <td>false (unchecked) to hide the native Android status bar while your app is running</td>
          </tr>
          <tr>
            <td>ScreenOrientation</td>
            <td>Landscape or Portrait if you want to force a specific screen orientation, otherwise leave this to its default value.</td>
          </tr>
          <tr>
            <td>Icon</td>
            <td>A nice icon for your project.</td>
          </tr>
        </table>
        <img src="https://user-images.githubusercontent.com/17209175/65193665-858f4800-da41-11e9-8f3c-7c644ada52ce.png" height="1265">These are all optional. There are some other options you can set but many of them will have no effect.
      </li>
      <li>To create an APK:
        <ul>
          <li>Select <i>Build</i> &gt; <i>App (provide QR code for .APK)</i> and scan the QR code on your phone</li>
          <li>or Select <i>Build</i> &gt; <i>App (save .apk to my computer)</i></li>
        </ul>
      </li>
      <li>For help on publishing to the Google Play Store, see <a href="http://appinventor.mit.edu/explore/ai2/google-play.html">Publishing Apps to Google Play (App Inventor 2)</a></li>
    </ol>

    <h3 id="appsgeyser">Using AppsGeyser</h3>

    <ol>
      <li>Open the AppsGeyser page <a href="http://appsgeyser.com/create-url-app/"><i>Create Smart URL App</i></a></li>
      <li>Insert the link Forkphorus generated into the <i>Website URL</i> box.</li>
      <li>Choose a color theme, and hit <i>NEXT</i></li>
      <li>Fill out details such as your App's Name, Description, and Icon, and then hit <i>Create</i></li>
      <li>From here, navigate the treacherous interface to Publish or Download your APK.</li>
    </ol>

    <hr>

    <h2 id="phonegap">Second Method - Using the HTML packager and PhoneGap</h2>
    <p>An alternative method involves creating an independent HTML file for your project and embedding that. The main advantage is that this will work offline, independent of an internet connection and will always produce the same result.</p>
    <p>PhoneGap seems to support iOS, but I have not tested this. You will need a <a href="http://docs.phonegap.com/phonegap-build/signing/ios/">signing key</a>.</p>
    <p><i>Note that we will not need to install PhoneGap</i>. We will be using their online build service.</p>

    <ol>
      <li>Generate a ZIP archive using <a href="/packager/">the HTML packager</a>
        <ol>
          <li>Click "Show PhoneGap Settings" to open the special settings for PhoneGap</li>
          <li>Check "Enable PhoneGap", this will give us a ZIP instead of HTML and enable some additional options</li>
          <li>Change "PhoneGap config.xml" as needed. The default configuration will work just fine for testing. However, if you want to publish the app, you should make some changes:
            <ul>
              <li>Put your App's name between <code>&lt;name&gt;&#8230;&lt;name&gt;</code></li>
              <li>Put your App's description between <code>&lt;description&gt;&#8230;&lt;description&gt;</code></li>
              <li>Put your name between <code>&lt;author href="your website" email="your email" &gt;&#8230;&lt;author&gt;</code> and set href and email to your website and email respectively.</li>
              <li>Change the ID in <code>id="io.github.forkphorus.example"</code> to something unique to your app (you can remove the io.github.forkphorus part, it just has to be unique)</li>
            </ul>
          </li>
          <li>Optionally choose a custom icon.</li>
          <li>Ensure that "Include CSP" under "Advanced Options" is checked (it is checked by default)</li>
        </ol>
      </li>
      <li>Go to the <a href="https://build.phonegap.com">PhoneGap build service</a> and sign in with or create an Adobe account</li>
      <li>Create a new <i>Private</i> app and upload the generated ZIP to the service.</li>
      <li>Wait for the builds to complete.</li>
      <li>Click on the Android icon to download the APK. You can also scan the QR code.</li>
      <li>To update the APK, run the packager again, go to the PhoneGap build service, and use the <i>Update code</i> button:<img src="https://user-images.githubusercontent.com/17209175/66354891-e7015300-e92b-11e9-8753-dd3237d0c8f1.png" height="285"></li>
      <li>If uploading to the Google Play Store, you should read <a href="http://docs.phonegap.com/phonegap-build/signing/android/">Android Signing (PhoneGap Documentation)</a> or <a href="https://unbot.wordpress.com/2014/11/16/builing-a-release-version-for-build-phonegap-com/">Building a release version for build.phonegap.com</a></li>
    </ol>

    <p><small>If you use the PhoneGap CLI/Desktop app you will find that Forkphorus is broken in the preview. This is a PhoneGap bug -- it will work in the final build.</small></p>

  </main>


  <hr>

  <footer>
    <p>If you encounter problems or wish to improve this guide, please post something on <a href="https://github.com/forkphorus/forkphorus/issues">GitHub</a>.</p>
  </footer>

</body>

</html>